---
layout: post
cid: 464
title: 关于 VOID 主题自动获取图片基础信息
slug: void-fetch-img-basic-info
date: 2019/10/24 17:58:00
updated: 2019/10/24 18:18:07
status: hidden
author: 熊猫小A
categories: 
  - 偶尔Geek
tags: 
  - 博客
  - VOID笔记
excerpt: 
---


## 这是什么？

图片基础信息指的是图片的长、宽。VOID 主题从 3.4.0 版本起支持为文章内容中的图片获取基础信息。

## 为什么要这样？

图片的长宽信息在懒加载时十分有用，只有预先知道原始图片的尺寸才能在图片尚未加载完毕时为其预留合适的空白。若缺少这一步，随着图片加载，页面会出现上下抖动的现象，这将影响体验。

## 这是怎么起作用的？

当你发布新文章或者修改旧文章时，VOID 会自动解析文章里的图片链接，请求到长宽后在图片链接尾部添加 `#vwid=...&vhei=...` 的字样，这就是基础信息。

## 好的，那么我需要做什么？

大致上，你不需要进行什么特别的操作。该功能是向前兼容的，若旧文中的图片没有获取基础信息，那么它们看上去就会和以前一样，同样也支持懒加载。当发表新文章或修改旧文章时主题才会对文章进行处理。

## 不，我一定要做点什么！

行吧。但是首先提醒，**进行任何操作前请做好备份！**

你可以手动为所有旧文章获取基础信息。假设你的网站是 http://example.com/index.php，那么操作如下：

1. 登陆后台
2. 访问 http://example.com/index.php/action/void?getimginfo

由于限制，每次访问以上网址只能处理一定量的图片，因此你可能需要多次刷新网页以处理所有图片，请根据网页提示判断是否需要继续处理。根据服务器网速与配置不同，处理速度也可能有所差异，请耐心等待。

另外，你也可以手动清除已经获取的基础信息：

1. 登陆网站后台
2. 访问 http://example.com/index.php/action/void?cleanimginfo

再次提醒，**进行任何操作前请做好备份！**